<style>
.select_tag {
	font-size:15px;
}
</style>

<%= render :partial => "edit" %>


<%= form_tag @tour.edit_settings_path do %>

<h6>Basic Settings</h6>

	<label>Subdomain:</label><%= text_field_tag 'subdomain', @tour.subdomain, :class => 'login_text' %>
	&nbsp; &nbsp;(e.g. 1600Penn.tourvibes.com)
	<br />
	<label>Custom Domain:</label><%= text_field_tag 'custom_domain', @tour.custom_domain, :class => 'login_text' %>
	&nbsp; &nbsp;(e.g. 1600Pen.com, <a href="/custom_domains">setup info here</a>)<br />
	<label>Schools URL:</label><%= text_field_tag 'schools_url', @tour.schools_url, :class => 'login_text' %><br />
	<!--
	<label>Photo Transitions:</label><%= text_field_tag 'transition', @tour.transition, :class => 'login_text' %><br />
	<label>Program Mode:</label><%= text_field_tag 'mode', @tour.mode, :class => 'login_text' %><br />
	-->
	<label>Ken Burns Effect:</label><%= select_tag 'ken_burns', options_for_select([['on',true],['off',false]],@tour.ken_burns), :class => 'login_text select_tag' %><br />
	<label>Autoplay:</label><%= select_tag 'autoplay', options_for_select([['yes',true],['no',false]],@tour.autoplay), :class => 'login_text select_tag' %><p>
	<h6>Color Settings </h6>
	<a href="#" id="default" style="font-weight:normal;font-size:15px;">Change to default (black &amp; grey)</a>
	<p>
	<div style="line-height:2.2">
	<label>Background:</label> <%= text_field_tag 'bg_color', @tour.bg_color, :id => 'bg_color' %><br />
	<label>Center:</label> <%= text_field_tag 'wrapper_color', @tour.wrapper_color, :id => "wrapper_color" %><br />
	<label>Title:</label> <%= text_field_tag 'title_color', @tour.title_color, :id => "title_color" %><br />
	<label>Text:</label> <%= text_field_tag 'text_color', @tour.text_color, :id => "text_color" %><br />
	<label>Links:</label> <%= text_field_tag 'link_color', @tour.link_color, :id => "link_color" %><br />
		</div>
		
			
	
	<%= submit_tag 'Save Changes', :class => 'gray_button submit small_button', :style => 'margin-left:167px;margin-top:8px;width:auto;' %>
	
	<% if not @tour.is_live %>
	<%= submit_tag 'Save & Publish Â»', :class => 'gray_button small_button blue_button', :style => 'width:auto;'%>
	<% end %>
	
<% end %>


<script type="text/javascript">

$('#default').click(function() {
	
	$('#bg_color').spectrum("set","#000");
	$('#wrapper_color').spectrum("set","#242424");
	$('#title_color').spectrum("set","#e8e8e8");
	$('#text_color').spectrum("set","#ccc");
	$('#link_color').spectrum("set","#e8e8e8");

	return false;
	
});

$("#bg_color").spectrum({
    color: "<%= @tour.bg_color %>",
	clickoutFiresChange: true,
	preferredFormat: "hex",
	showInput: true,
});


$("#wrapper_color").spectrum({
    color: "<%= @tour.wrapper_color %>",
	clickoutFiresChange: true,
	preferredFormat: "hex",
	showInput: true
});

$("#text_color").spectrum({
    color: "<%= @tour.text_color %>",
	clickoutFiresChange: true,
	preferredFormat: "hex",
	showInput: true
});

$("#link_color").spectrum({
    color: "<%= @tour.link_color %>",
	clickoutFiresChange: true,
	preferredFormat: "hex",
	showInput: true
});

$("#title_color").spectrum({
    color: "<%= @tour.title_color %>",
	clickoutFiresChange: true,
	preferredFormat: "hex",
	showInput: true
});

var f2 = new LiveValidation('subdomain');
//f2.add( Validate.Presence, { failureMessage: "required"} );

f2.add( Validate.Format, { pattern: /^[a-z\d]+(-[a-z\d]+)*$/i, failureMessage: "No spaces, letters & numbers only." });

</script>